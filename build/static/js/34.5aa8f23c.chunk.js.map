{"version":3,"sources":["assets/img/brand/loading.svg","tools/AppConfig.js","tools/HttpClient.js","views/Waiting/waiting.js","views/Pages/Login/Login.js","assets/img/brand/logo.png","containers/DefaultLayout/LogoutHeader.js"],"names":["module","exports","__webpack_require__","p","appConfig","httpClient","path","config","successCb","errorCb","url","getServerUrl","timeout","axios","get","then","catch","data","post","waiting","props","react_default","a","createElement","className","style","height","src","loading","alt","Login","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","error","errorMessage","email","firstEmail","password","firstPassword","handleEmailChange","bind","assertThisInitialized","handlePasswordChange","handleFormValidate","handleFormValidateChange","removeFormErr","login","e","_this2","setState","target","value","_this3","field","validator","isEmail","length","_this4","dataObj","JSON","stringify","headers","Cache-Control","Content-Type","resp","localStorage","token","userData","window","location","reload","response","status","_this5","LogoutHeader","Container","Row","Col","xs","md","lg","xl","views_Waiting_waiting","input_default","label","type","required","floatingLabel","autoFocus","onChange","onBlur","minLength","Alert","color","disabled","onClick","sm","href","Component","react__WEBPACK_IMPORTED_MODULE_5___default","logo","pathname"],"mappings":"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","file":"static/js/34.5aa8f23c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.5afb8fe9.svg\";","class AppConfig {\r\n\r\n    getServerUrl() {\r\n        return \"https://tradket.com\";\r\n    }\r\n}\r\n\r\nexport let appConfig = new AppConfig();\r\n","import axios from \"axios\";\r\nimport {appConfig} from \"./AppConfig\";\r\n\r\nclass HttpClient {\r\n\r\n    get(path, config, successCb, errorCb) {\r\n        let url = appConfig.getServerUrl() + path;\r\n        //config.headers[\"Cache-Control\"]= \"no-cache\";\r\n        config.timeout= 100 * 1000;\r\n        axios.get(url, config)\r\n            .then(successCb)\r\n            .catch(errorCb);\r\n    }\r\n    post(path, config, data, successCb, errorCb) {\r\n        let url = appConfig.getServerUrl() + path;\r\n        //config.headers[\"Cache-Control\"]= \"no-cache\";\r\n        config.timeout= 100 * 1000;\r\n        axios.post(url, data, config)\r\n            .then(successCb)\r\n            .catch(errorCb);\r\n    }\r\n}\r\n\r\nexport let httpClient = new HttpClient();\r\n","import React from 'react';\r\nimport loading from \"./../../assets/img/brand/loading.svg\";\r\nimport './waiting.css';\r\n\r\nconst waiting = (props) => {\r\n    return (\r\n        <div className=\"waitingComponent\" style={{height: props.height}}>\r\n            <div className=\"waitingContent\"> \r\n                <img className=\"loading\" src={loading} alt=\"waiting icone.\" /> \r\n            </div>\r\n        </div>        \r\n    );\r\n}\r\n\r\nexport default waiting;","import React, { Component } from 'react';\r\nimport { Alert, Col, Container, Row } from 'reactstrap';\r\nimport Input from 'muicss/lib/react/input';\r\nimport {httpClient} from './../../../tools/HttpClient';\r\nimport LogoutHeader from \"./../../../containers/DefaultLayout/LogoutHeader\";\r\nimport validator from 'validator';\r\nimport \"./Login.scss\";\r\n\r\nimport Waiting from \"./../../../views/Waiting/waiting\";\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        waiting: false,\r\n        error: false,\r\n        errorMessage: \"\",\r\n        email: \"\",\r\n        firstEmail: true,\r\n        password: \"\",\r\n        firstPassword: true\r\n    };\r\n    this.handleEmailChange = this.handleEmailChange.bind(this);\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n    this.handleFormValidate = this.handleFormValidate.bind(this);\r\n    this.handleFormValidateChange = this.handleFormValidateChange.bind(this);\r\n    this.removeFormErr = this.removeFormErr.bind(this);\r\n    this.login = this.login.bind(this);\r\n  }\r\n  handleEmailChange(e){\r\n    this.setState({email: e.target.value},()=>{\r\n      if(!this.state.firstEmail){\r\n        this.handleFormValidateChange(\"email\")\r\n      }\r\n    });\r\n  }\r\n  handlePasswordChange(e){\r\n    this.setState({password: e.target.value},()=>{\r\n      if(!this.state.firstPassword){\r\n        this.handleFormValidateChange(\"password\")\r\n      }\r\n    });\r\n  }\r\n  removeFormErr(e){\r\n    this.setState({email: e.target.value, error: false, errorMessage: \"\"});\r\n  }\r\n  handleFormValidate(field){\r\n    //validation\r\n    if(field === \"email\" && this.state.firstEmail){\r\n      if(this.state.email === \"\"){\r\n        this.setState({firstEmail: false, error: true, errorMessage: \"Email field is required.\"})\r\n      }else if(!validator.isEmail(this.state.email)){\r\n        this.setState({firstEmail: false, error: true, errorMessage: \"Please enter valid email.\"})\r\n      }else{\r\n        this.setState({firstEmail: false, error: false, errorMessage: \"\"})\r\n      }\r\n    }else if(field === \"password\" && this.state.firstPassword){\r\n      if(this.state.password === \"\"){\r\n        this.setState({firstPassword: false, error: true, errorMessage: \"Password field is required.\"})\r\n      }else if(this.state.password.length < 6){\r\n        this.setState({firstPassword: false, error: true, errorMessage: \"Password must be more than 6 letters.\"})\r\n      }else{\r\n        this.setState({firstPassword: false, error: false, errorMessage: \"\"})\r\n      }\r\n    }\r\n  }\r\n  handleFormValidateChange(field){\r\n    //validation\r\n    if(field === \"email\" && !this.state.firstEmail){\r\n      if(this.state.email === \"\"){\r\n        this.setState({error: true, errorMessage: \"Email field is required.\"})\r\n      }else if(!validator.isEmail(this.state.email)){\r\n        this.setState({error: true, errorMessage: \"Please enter valid email.\"})\r\n      }else{\r\n        this.setState({error: false, errorMessage: \"\"})\r\n      }\r\n    }else if(field === \"password\" && !this.state.firstPassword){\r\n      if(this.state.password === \"\"){\r\n        this.setState({error: true, errorMessage: \"Password field is required.\"})\r\n      }else if(this.state.password.length < 6){\r\n        this.setState({error: true, errorMessage: \"Password must be more than 6 letters.\"})\r\n      }else{\r\n        this.setState({error: false, errorMessage: \"\"})\r\n      }\r\n    }\r\n  }\r\n  login(){\r\n    this.setState({waiting: true},()=>{\r\n      //send request\r\n      let dataObj = {\r\n        \"email\": this.state.email,\r\n        \"password\": this.state.password\r\n      };\r\n      let config = {\r\n          headers: {\r\n              \"Cache-Control\": \"no-cache\",\r\n              \"Content-Type\": \"application/json\",\r\n          }\r\n      };\r\n      let data = JSON.stringify(dataObj);\r\n      httpClient.post(\r\n          \"/api/users/login\",\r\n          config,\r\n          data,\r\n          (resp) => {\r\n            localStorage.token = resp.data.data.token;\r\n            localStorage.userData = JSON.stringify(resp.data.data.userData);\r\n            window.location.reload();\r\n          },\r\n          (error) => {\r\n            //end waiting and print error message\r\n            if(error.response){\r\n              if(error.response.status === 401){\r\n                this.setState({waiting:false, error: true, errorMessage: \"Email or password is wrong.\"});\r\n              }else{\r\n                this.setState({waiting:false, error: true, errorMessage: \"Oops! Something went wrong. If this problem persists, please contact your service provider.\"});\r\n              }\r\n            }else{\r\n              this.setState({waiting:false, error: true, errorMessage: \"Oops! Something went wrong. If this problem persists, please contact your service provider.\"});\r\n            }\r\n          }\r\n      );\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        <LogoutHeader />\r\n        <Container>\r\n          <Row className=\"justify-content-center\">\r\n            <Col xs=\"12\" md=\"9\" lg=\"8\" xl=\"7\">\r\n              <div className=\"tradket_model\">\r\n                <div className=\"head\">\r\n                  <p>LOG IN</p>\r\n                </div>\r\n                <div className=\"body\">\r\n                  {this.state.waiting?\r\n                    <Waiting  height='190px'/>\r\n                  :\r\n                    <div>\r\n                      <Input label=\"Email\" type=\"email\"\r\n                        required\r\n                        className=\"tradket_input\"\r\n                        floatingLabel={true} \r\n                        autoFocus={true}\r\n                        value={this.state.email} \r\n                        onChange={this.handleEmailChange}\r\n                        onBlur={()=> this.handleFormValidate(\"email\")}\r\n                      />\r\n                      <Input label=\"Password\" type=\"password\" \r\n                        required\r\n                        minLength={6}\r\n                        className=\"tradket_input\"\r\n                        floatingLabel={true}\r\n                        value={this.state.password}\r\n                        onChange={this.handlePasswordChange}\r\n                        onBlur={()=> this.handleFormValidate(\"password\")}\r\n                      />  \r\n                      {this.state.error?\r\n                      <Alert color=\"danger\" className=\"sm_alert\" >{this.state.errorMessage}</Alert>\r\n                    : \r\n                      null\r\n                    }\r\n                    <br/>\r\n                    {this.state.email === \"\" || this.state.password === \"\" || this.state.error?\r\n                      <button disabled className=\"btn\">Log In</button>  \r\n                    :\r\n                      <button className=\"btn\" onClick={this.login}>Log In</button>  \r\n                    }\r\n                    <div className=\"login-signup-forget\">\r\n                      <Row>\r\n                        <Col xs=\"12\" sm=\"6\" md=\"6\" lg=\"6\" xl=\"6\">\r\n                          <a href=\"/portal/register\">Not a member? Sign up</a>\r\n                        </Col>\r\n                        <Col xs=\"12\" sm=\"6\" md=\"6\" lg=\"6\" xl=\"6\">\r\n                          <a href=\"/404\">I can't remember my password</a>\r\n                        </Col>\r\n                      </Row>\r\n                    </div>\r\n                    </div>\r\n                  }         \r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.287bcb16.png\";","import React, { Component } from 'react';\r\nimport logo from '../../assets/img/brand/logo.png'\r\n\r\nclass LogoutHeader extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"LogoutHeader\">\r\n        <a href=\"/\">\r\n          <img className=\"logo\" alt=\"logo\" src={logo} />\r\n        </a>\r\n        <div className=\"btns_div\">\r\n          {window.location.pathname !== \"/portal/login\"?\r\n            <a href=\"/portal/login\" className=\"btn_w\">Log In</a>\r\n          :\r\n            null\r\n          }\r\n          {window.location.pathname !== \"/portal/register\"?\r\n            <a href=\"/portal/register\" className=\"btn_w\">Sign Up</a>\r\n          :\r\n            null\r\n          }          \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogoutHeader;\r\n"],"sourceRoot":""}